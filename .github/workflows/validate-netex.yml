name: Validate NeTEx

on:
  push:
    paths:
      - 'festivals_netex_poi.xml'
  pull_request:
    paths:
      - 'festivals_netex_poi.xml'
  workflow_dispatch:

jobs:
  validate:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v6

      - name: Install xmllint
        run: sudo apt-get install -y libxml2-utils

      - name: Clone NeTEx schema
        run: git clone --depth 1 https://github.com/NeTEx-CEN/NeTEx

      - name: Validate against NeTEx XSD
        run: xmllint --schema NeTEx/xsd/NeTEx_publication.xsd --noout festivals_netex_poi.xml
